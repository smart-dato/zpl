<?php

use SmartDato\Zpl\Enums\CompressionType;
use SmartDato\Zpl\Enums\InternationalEncoding;
use SmartDato\Zpl\Enums\OrientationType;
use SmartDato\Zpl\Label;

it('dex label', function () {
    $label = new Label;
    $label->setInternationalEncoding(InternationalEncoding::UTF8);
    $label->setDefaultOrientation(OrientationType::ROTATED);

    $label->addBox(710, 1120, 3)
        ->at(50, 50);
    $label->addLineOrthogonal(710, 3)
        ->at(50, 800);
    $label->addLineOrthogonal(1120, 3, rotated: true)
        ->at(270, 50);

    $data = ',7,7C,7F,7FE,7FF8,7FFE,7IF8,7JF,7JFC,7KF,7KFC,7LF8,7LFE,7MFC,7NF,7NFC,7NFE8,7OFE,7PF,7PFE,7QF8,7QFE,7RFC,7SF,7SFC,7TF8,7TFE,7UF8,7VF,7VFC,:::7VFC03,7VFC03C,7VFC03F8,7VFC03FC,7KF9PFC03FF,7KF07OFC03FFE,7KF00OFC03IF8,7KF007NFC03IFE,7KFI0NFC03JFC,7KFI03MFC03JFE,7KFJ07LFC03KF,7KFJ01LFC03KF,7KFK07KFC03KF,7KFL0KFC03KF,7KFL07JFC03KF,7KFM07IFC03KF,7KFM03IFC03KF,7KFN0IFC03KF,7KFN01FFC03KF,7KFO07FC03KF,7KFO01FC03KF,7KFP03C03KF,7KFQ0C03KF,7KFS03KF,:::::::::::::::::::::::::::7KF8R03KF,::3KF8R03KF,3KFCR03KF,:1KFER03KF,1LFR03KF,:0LF8Q03KF,0LFCQ03KF,0LFEQ03KF,07LFQ03KF,07LF8P03KF,03LFCP03KF,03LFEP03KF,01MF8O03KF,01MFEO03KF,00NF8N03KF,00NFEN03KF,007NFCM07KF,003OFM07KF,003OFCL07KF,001PF8K0LF,I0PFEJ01LF,I0QF8I01LF,I07QFI07LF,I03QFC00MF,I03RF83MF,I01gGF,J0gGF,J07gF,J03gF,J01gF,K0gF,K07YF,K01YF,L0YF,L03XF,M0XF,M01WF,N07VF,N01VF,J0FEI03UF,I0JF800UF,001JFE001SFE,007KF8007RFE,00LFC003RFE,01LFEI03QFE,03MF8001QFC,03MFEI07PFC,07NFJ0PFC,07NF8I03OF8,07NFEJ0OF8,0PFJ01NF,0PF8J07LFE,1PFCJ01LFC,1PFEK03KF,1QFL0JFC,1QF8K03IF,1QFC,:3QFE,3JF03LF,3IFE01LF8,3IFE00LFC,3IFC00LFC,3IFC00LFE,3IF800MF,:3IF800MF8,3IFI0MFC,3IFI0MFE,7IFI0MFE,7IFI0NF,7IFI0IFEJF8,7FFEI0IFE7IF8,7IFI0IFE3IF8,7IFI0IFE1IFC,7IFI0IFE0IFE,3IFI0IFE07FFE,3IFI0IFE07IF,3IFI0IFE03IF,3IFI0IFE01IF,3IFI0IFE01IF8,:3IFI0IFE00IFC,::3IFI0IFE007FFE,3FFEI0IFE007FFE,3IFI0IFE007FFE,:3IFI0IFE003IF,1IFI0IFE003IF,::1IFI0IFE003IF8,::3IF800IFE003IF8,1IF800IFE003IF8,:1IF8007FFE003IF8,1IF8003FFE003IF8,1IF8I0FFE003IF8,0IF8I03FE003IF8,0IFCJ0FE003IFC,0IFCJ07E003IFC,0IFCJ01E003IFC,0IFCK06003IFC,0IFCN03IFC,07FFEN03IFC,:07FFCN03IFC,07FFEN03IFC,03FFEN03IFC,03FFEN07IF8,07IFN07IF8,03IFN07IF8,03IF8M03IF8,01IF8M01IF8,01IFCN07FF8,01IFCN01FF8,00IFEO07F8,00IFEO01F8,00JFP0F,007IFP03,007IF8,003IF8,001IFC,001IFE,001JF,I0JF,I07IF8,I07IFC,I03IFE,I01IFEO04,I01JFN01C,J0JF8M07C,J07IFCL07FC,J07IFEK01FFC,J03IFEK07FFC,J01JFJ07IFC,K0JF8001JFC,K07IFC007JFC,K07IFE03KFC,K03JF0LFC,K01JF87KFC,L0JFC7KF,L07IFE3JF8,L03IFE1IFC,L01JF0IF8,M0JF87F8,M0JFC3E,K03C7IFC1,K0FC3IFE,J03FE1JF,I01IF0JF8,I0JF87IFC,003JFC7IFC,01KFC3IFE,07KFE1JF,1MF0JF8,7LFE07IFC,7LF003IFE,7KF8003JF,7JFEI01JF8,7JFK0JF8,7IF8K07IFC,7FFEL03IFE,7FFM01JF,7FCN0JF8,7EO07IF8,7P03IFC,4P01IFE,Q01JF,R0JF8,R07IFC,R03IFE,R01IFE,S0JF,S07IF8,S07IFC,S03IFC,S01IFC,T0IFC,T07FFC,T03FFC,T03FFC4,T01FFC6,U0FFC6,U07FC7,U03FC7,U01FC7,V0FC7,V07C72,V03C72,V01C73,W0C73,W0473C,:X073E,:X073F,X01BF8,Y03F8,Y01FC,g0FC,g07F,g01F,gG038,gG018,gH04,gH02,,';
    $label->addGraphic(
        CompressionType::ASCII,
        3913,
        3913,
        13,
        $data
    )
        ->at(550, 840);

    $label->setDefaultFont('D', 20);
    $label->addText('i.A. COMPANY')->at(500, 840);
    $label->addText('Logistics')->at(470, 840);
    $label->addText('19.03.2024')->at(440, 840);
    $label->addText('OLS202400001234')->at(410, 840);

    $label->addBarcode128('OLS202400001234X1')
        ->at(635, 90)
        ->withBarcodeDefaults(3, 2.0, 80);

    $label->setDefaultFont('D', 30);
    $label->addText('Max Mustermann')->at(550, 90);
    $label->addText('Max Mustermann')->at(510, 90);
    $label->addText('BahnhofstraÃŸe 1')->at(470, 90);
    $label->addText('1140 Wien')->at(430, 90);
    $label->addText('AUSTRIA')->at(390, 90);
    $label->addText('Tel: +43 1234567890')->at(350, 90);

    $label->setDefaultFont('0', 100);
    $label->addText('1/1')->at(70, 930);

    $zpl = $label->render(true);
    expect($zpl)->toBeString();
});
